{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\isaac\\\\OneDrive\\\\Documentos\\\\GitHub\\\\linkedin_clone\\\\juan\\\\PAGES\\\\React\\\\src\\\\componentes\\\\CrearPosteo.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Modal, Box } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 4\n};\nexport default function CrearPosteo() {\n  _s();\n  const [titulo, setTitulo] = useState(\"\");\n  const [texto, setTexto] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const [image, setImage] = useState(null); // Estado para la imagen cargada\n\n  // Función para enviar datos a la base de datos\n  const enviarPostABD = async (titulo, texto, image) => {\n    const formData = new FormData(); // Usar FormData para enviar la imagen\n    formData.append('titulo', titulo);\n    formData.append('texto', texto);\n    if (image) {\n      formData.append('image', image); // Agregar la imagen al FormData\n    }\n    try {\n      const response = await fetch('https://api.tuservidor.com/descripcion', {\n        method: 'POST',\n        body: formData // Enviar el FormData\n      });\n      if (!response.ok) {\n        throw new Error('Error al enviar los datos a la base de datos');\n      }\n      const data = await response.json();\n      console.log('Posteo guardado en la base de datos:', data);\n    } catch (error) {\n      console.error('Error al guardar el posteo:', error);\n    }\n  };\n  const cambiarDescripcion = nuevoTexto => {\n    setTexto(nuevoTexto);\n  };\n  const cambiarTitulo = nuevoTitulo => {\n    setTitulo(nuevoTitulo);\n  };\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    enviarPostABD(titulo, texto, image); // Enviar tanto el título como la descripción y la imagen a la base de datos\n    setOpen(false); // Cerrar el modal\n  };\n\n  // Manejar el cambio de imagen\n  const handleImageChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setImage(file); // Guardar el archivo de imagen\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: handleOpen,\n      children: \"Crear posteo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"modal-modal-title\",\n      \"aria-describedby\": \"modal-modal-description\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: style,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          id: \"modal-modal-title\",\n          label: \"T\\xEDtulo\",\n          placeholder: \"Escriba el t\\xEDtulo del posteo\",\n          variant: \"outlined\",\n          sx: {\n            marginBottom: 2\n          },\n          value: titulo // Valor controlado por el estado `titulo`\n          ,\n          onChange: e => cambiarTitulo(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          id: \"modal-modal-description\",\n          label: \"Descripci\\xF3n\",\n          placeholder: \"Escriba la descripci\\xF3n del posteo\",\n          variant: \"outlined\",\n          multiline: true,\n          rows: 4 // Ajustar el número de filas si es necesario\n          ,\n          value: texto // Valor controlado por el estado `texto`\n          ,\n          onChange: e => cambiarDescripcion(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          accept: \"image/*\",\n          id: \"image-upload\",\n          type: \"file\",\n          style: {\n            display: 'none'\n          },\n          onChange: handleImageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"image-upload\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            component: \"span\",\n            sx: {\n              marginTop: 2\n            },\n            children: \"Subir Imagen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), image && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: URL.createObjectURL(image),\n          alt: \"Vista previa\",\n          style: {\n            width: '100px',\n            height: 'auto',\n            marginTop: '16px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}\n_s(CrearPosteo, \"B3gsZKFDRixsmzH3OF50FMZgLFk=\");\n_c = CrearPosteo;\nvar _c;\n$RefreshReg$(_c, \"CrearPosteo\");","map":{"version":3,"names":["React","useState","TextField","Button","Modal","Box","jsxDEV","_jsxDEV","style","position","top","left","transform","width","bgcolor","border","boxShadow","p","CrearPosteo","_s","titulo","setTitulo","texto","setTexto","open","setOpen","image","setImage","enviarPostABD","formData","FormData","append","response","fetch","method","body","ok","Error","data","json","console","log","error","cambiarDescripcion","nuevoTexto","cambiarTitulo","nuevoTitulo","handleOpen","handleClose","handleImageChange","event","file","target","files","children","variant","color","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onClose","sx","fullWidth","id","label","placeholder","marginBottom","value","onChange","e","multiline","rows","accept","type","display","htmlFor","component","marginTop","src","URL","createObjectURL","alt","height","_c","$RefreshReg$"],"sources":["C:/Users/isaac/OneDrive/Documentos/GitHub/linkedin_clone/juan/PAGES/React/src/componentes/CrearPosteo.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { TextField, Button, Modal, Box } from '@mui/material';\r\n\r\nconst style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 400,\r\n    bgcolor: 'background.paper',\r\n    border: '2px solid #000',\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\n\r\nexport default function CrearPosteo() {\r\n    const [titulo, setTitulo] = useState(\"\");\r\n    const [texto, setTexto] = useState(\"\");\r\n    const [open, setOpen] = useState(false);\r\n    const [image, setImage] = useState(null); // Estado para la imagen cargada\r\n\r\n    // Función para enviar datos a la base de datos\r\n    const enviarPostABD = async (titulo, texto, image) => {\r\n        const formData = new FormData(); // Usar FormData para enviar la imagen\r\n        formData.append('titulo', titulo);\r\n        formData.append('texto', texto);\r\n        if (image) {\r\n            formData.append('image', image); // Agregar la imagen al FormData\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('https://api.tuservidor.com/descripcion', {\r\n                method: 'POST',\r\n                body: formData, // Enviar el FormData\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Error al enviar los datos a la base de datos');\r\n            }\r\n\r\n            const data = await response.json();\r\n            console.log('Posteo guardado en la base de datos:', data);\r\n        } catch (error) {\r\n            console.error('Error al guardar el posteo:', error);\r\n        }\r\n    };\r\n\r\n    const cambiarDescripcion = (nuevoTexto) => {\r\n        setTexto(nuevoTexto);\r\n    };\r\n\r\n    const cambiarTitulo = (nuevoTitulo) => {\r\n        setTitulo(nuevoTitulo);\r\n    };\r\n\r\n    const handleOpen = () => setOpen(true);\r\n\r\n    const handleClose = () => {\r\n        enviarPostABD(titulo, texto, image); // Enviar tanto el título como la descripción y la imagen a la base de datos\r\n        setOpen(false); // Cerrar el modal\r\n    };\r\n\r\n    // Manejar el cambio de imagen\r\n    const handleImageChange = (event) => {\r\n        const file = event.target.files[0];\r\n        if (file) {\r\n            setImage(file); // Guardar el archivo de imagen\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button variant='contained' color=\"secondary\" onClick={handleOpen}>Crear posteo</Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box sx={style}>\r\n                    <TextField\r\n                        fullWidth\r\n                        id=\"modal-modal-title\"\r\n                        label=\"Título\"\r\n                        placeholder=\"Escriba el título del posteo\"\r\n                        variant=\"outlined\"\r\n                        sx={{ marginBottom: 2 }}\r\n                        value={titulo} // Valor controlado por el estado `titulo`\r\n                        onChange={e => cambiarTitulo(e.target.value)}\r\n                    />\r\n                    <TextField\r\n                        fullWidth\r\n                        id=\"modal-modal-description\"\r\n                        label=\"Descripción\"\r\n                        placeholder=\"Escriba la descripción del posteo\"\r\n                        variant=\"outlined\"\r\n                        multiline\r\n                        rows={4} // Ajustar el número de filas si es necesario\r\n                        value={texto} // Valor controlado por el estado `texto`\r\n                        onChange={e => cambiarDescripcion(e.target.value)}\r\n                    />\r\n                    <input\r\n                        accept=\"image/*\"\r\n                        id=\"image-upload\"\r\n                        type=\"file\"\r\n                        style={{ display: 'none' }}\r\n                        onChange={handleImageChange}\r\n                    />\r\n                    <label htmlFor=\"image-upload\">\r\n                        <Button variant=\"contained\" component=\"span\" sx={{ marginTop: 2 }}>\r\n                            Subir Imagen\r\n                        </Button>\r\n                    </label>\r\n                    {image && <img src={URL.createObjectURL(image)} alt=\"Vista previa\" style={{ width: '100px', height: 'auto', marginTop: '16px' }} />}\r\n                </Box>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,GAAG,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,KAAK,GAAG;EACVC,QAAQ,EAAE,UAAU;EACpBC,GAAG,EAAE,KAAK;EACVC,IAAI,EAAE,KAAK;EACXC,SAAS,EAAE,uBAAuB;EAClCC,KAAK,EAAE,GAAG;EACVC,OAAO,EAAE,kBAAkB;EAC3BC,MAAM,EAAE,gBAAgB;EACxBC,SAAS,EAAE,EAAE;EACbC,CAAC,EAAE;AACP,CAAC;AAED,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACqB,KAAK,EAAEC,QAAQ,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACuB,IAAI,EAAEC,OAAO,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACyB,KAAK,EAAEC,QAAQ,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE1C;EACA,MAAM2B,aAAa,GAAG,MAAAA,CAAOR,MAAM,EAAEE,KAAK,EAAEI,KAAK,KAAK;IAClD,MAAMG,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACjCD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEX,MAAM,CAAC;IACjCS,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAET,KAAK,CAAC;IAC/B,IAAII,KAAK,EAAE;MACPG,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,KAAK,CAAC,CAAC,CAAC;IACrC;IAEA,IAAI;MACA,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;QACnEC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEN,QAAQ,CAAE;MACpB,CAAC,CAAC;MAEF,IAAI,CAACG,QAAQ,CAACI,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,8CAA8C,CAAC;MACnE;MAEA,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;MAClCC,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAEH,IAAI,CAAC;IAC7D,CAAC,CAAC,OAAOI,KAAK,EAAE;MACZF,OAAO,CAACE,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACvD;EACJ,CAAC;EAED,MAAMC,kBAAkB,GAAIC,UAAU,IAAK;IACvCrB,QAAQ,CAACqB,UAAU,CAAC;EACxB,CAAC;EAED,MAAMC,aAAa,GAAIC,WAAW,IAAK;IACnCzB,SAAS,CAACyB,WAAW,CAAC;EAC1B,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAMtB,OAAO,CAAC,IAAI,CAAC;EAEtC,MAAMuB,WAAW,GAAGA,CAAA,KAAM;IACtBpB,aAAa,CAACR,MAAM,EAAEE,KAAK,EAAEI,KAAK,CAAC,CAAC,CAAC;IACrCD,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;EACpB,CAAC;;EAED;EACA,MAAMwB,iBAAiB,GAAIC,KAAK,IAAK;IACjC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,IAAIF,IAAI,EAAE;MACNxB,QAAQ,CAACwB,IAAI,CAAC,CAAC,CAAC;IACpB;EACJ,CAAC;EAED,oBACI5C,OAAA;IAAA+C,QAAA,gBACI/C,OAAA,CAACJ,MAAM;MAACoD,OAAO,EAAC,WAAW;MAACC,KAAK,EAAC,WAAW;MAACC,OAAO,EAAEV,UAAW;MAAAO,QAAA,EAAC;IAAY;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACxFtD,OAAA,CAACH,KAAK;MACFoB,IAAI,EAAEA,IAAK;MACXsC,OAAO,EAAEd,WAAY;MACrB,mBAAgB,mBAAmB;MACnC,oBAAiB,yBAAyB;MAAAM,QAAA,eAE1C/C,OAAA,CAACF,GAAG;QAAC0D,EAAE,EAAEvD,KAAM;QAAA8C,QAAA,gBACX/C,OAAA,CAACL,SAAS;UACN8D,SAAS;UACTC,EAAE,EAAC,mBAAmB;UACtBC,KAAK,EAAC,WAAQ;UACdC,WAAW,EAAC,iCAA8B;UAC1CZ,OAAO,EAAC,UAAU;UAClBQ,EAAE,EAAE;YAAEK,YAAY,EAAE;UAAE,CAAE;UACxBC,KAAK,EAAEjD,MAAO,CAAC;UAAA;UACfkD,QAAQ,EAAEC,CAAC,IAAI1B,aAAa,CAAC0B,CAAC,CAACnB,MAAM,CAACiB,KAAK;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC,eACFtD,OAAA,CAACL,SAAS;UACN8D,SAAS;UACTC,EAAE,EAAC,yBAAyB;UAC5BC,KAAK,EAAC,gBAAa;UACnBC,WAAW,EAAC,sCAAmC;UAC/CZ,OAAO,EAAC,UAAU;UAClBiB,SAAS;UACTC,IAAI,EAAE,CAAE,CAAC;UAAA;UACTJ,KAAK,EAAE/C,KAAM,CAAC;UAAA;UACdgD,QAAQ,EAAEC,CAAC,IAAI5B,kBAAkB,CAAC4B,CAAC,CAACnB,MAAM,CAACiB,KAAK;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC,eACFtD,OAAA;UACImE,MAAM,EAAC,SAAS;UAChBT,EAAE,EAAC,cAAc;UACjBU,IAAI,EAAC,MAAM;UACXnE,KAAK,EAAE;YAAEoE,OAAO,EAAE;UAAO,CAAE;UAC3BN,QAAQ,EAAErB;QAAkB;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC,eACFtD,OAAA;UAAOsE,OAAO,EAAC,cAAc;UAAAvB,QAAA,eACzB/C,OAAA,CAACJ,MAAM;YAACoD,OAAO,EAAC,WAAW;YAACuB,SAAS,EAAC,MAAM;YAACf,EAAE,EAAE;cAAEgB,SAAS,EAAE;YAAE,CAAE;YAAAzB,QAAA,EAAC;UAEnE;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,EACPnC,KAAK,iBAAInB,OAAA;UAAKyE,GAAG,EAAEC,GAAG,CAACC,eAAe,CAACxD,KAAK,CAAE;UAACyD,GAAG,EAAC,cAAc;UAAC3E,KAAK,EAAE;YAAEK,KAAK,EAAE,OAAO;YAAEuE,MAAM,EAAE,MAAM;YAAEL,SAAS,EAAE;UAAO;QAAE;UAAArB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEd;AAAC1C,EAAA,CAvGuBD,WAAW;AAAAmE,EAAA,GAAXnE,WAAW;AAAA,IAAAmE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}